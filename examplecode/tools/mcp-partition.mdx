---
title: Model Context Protocol (MCP) Hands-On Walkthrough for the Unstructured Partition Endpoint
sidebarTitle: MCP for Partition Endpoint
---

[Model Context Protocol](https://modelcontextprotocol.io/introduction) (MCP) is an open protocol that standardizes 
how applications provide context to LLMs. From the MCP documentation:

> Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools.

This article provides a hands-on, step-by-step walkthrough to build a simple example on your local development machine
that integrates the [Unstructured API](/api-reference/overview) with MCP. Specifically, 
this walkthrough demonstrates how to run an MCP _server_ 
(a lightweight program that exposes specific capabilities through MCP); this MCP server uses the 
[Unstructured Partition Endpoint](/api-reference/workflow/overview) to partition a single file, with limited support 
for chunking as well, processing local files one file at a time.

<Note>
    For a hands-on walkthrough of the [Unstructured Workflow Endpoint](/api-reference/workflow/overview) instead, 
    see the [MCP Hands-On Walkthrough for the Unstructured Workflow Endpoint](/examplecode/tools/mcp), which offers 
    a full range of partitioning, chunking, embedding, and enrichment options for your files and data.
</Note>
 
You call this MCP server from an MCP _client_ (an application that maintains a one-to-one connection with an 
MCP server), which in this walkthrough is [Claude for Desktop](https://claude.ai/download), a chat-based interface, by asking it plain language questions. 
Other MCP clients are also available. [Learn more](https://modelcontextprotocol.io/clients).

## Requirements

To complete this walkthrough, you must first have an Unstructured account, an Unstructured API key for that account, 
the necessary Node.js toolchain and project setup, and Claude for Desktop, as follows.

### Unstructured account and API key

Before you begin, you must have an Unstructured account and an Unstructured API key, as follows:

import GetStartedSimpleAPIOnly from '/snippets/general-shared-text/get-started-simple-api-only.mdx';

<GetStartedSimpleAPIOnly/>

### Node.js toolchain setup, project setup, and Claude for Desktop

Before you can start coding on your local machine, you must install Node.js, create an initialize a project directory for the MCP server, and install Claude for Desktop, as follows.

<Steps>
    <Step>
        [Download Node.js](https://nodejs.org/en/download).
    </Step>
    <Step>
        From your current working directory, create a project directory. This example creates a 
        project directory named `mcp-unstructured-partition-demo`. Then go to the project directory:

        ```bash
        mkdir init mcp-unstructured-partition-demo
        cd mcp-unstructured-partition-demo
        ```

    </Step>
    <Step>
        Initialize the project directory.

        ```bash
        npm init -y`
        ```

    </Step>
    <Step>
        Install TypeScript, the Unstructured JavaScript/TypeScript SDK, and additional code dependencies:

        ```bash
        npm install typescript --save-dev
        npm install unstructured-client
        ```

    </Step>
    <Step>
        [Install Claude for Desktop](https://claude.ai/download).
    </Step>
</Steps>

## Step 1: Connect the MCP server to Claude for Desktop

<Steps>
    <Step>
        Open the Claude for Desktop App configuration file from the following location, for example by using Visual Studio Code:

        ```text
        # For macOS or Linux:
        code ~/Library/Application\ Support/Claude/claude_desktop_config.json

        # For Windows:
        code $env:AppData\Claude\claude_desktop_config.json
        ```
    </Step>
    <Step>
        Add the following code to the `claude_desktop_config.json` file, and then save the file.

        In this file:

        - Replace the "absolute path to project directory" placeholder with the absolute path to the root of your project directory.
        - Replace `<unstructured-api-key>` with your Unstructured API key.

        For macOS or Linux:

        ```json
        {
            "mcpServers": {
                "unstructured-js-client": {
                    "command": "node",
                    "args": [
                        "/ABSOLUTE/PATH/TO/PROJECT/DIRECTORY/node_modules/unstructured-client/bin/mcp-server.js",
                        "start"
                    ],
                    "env": {
                        "UNSTRUCTURED_API_KEY": "<unstructured-api-key>"
                    }
                }
            }
        }
        ```

        For Windows:

        ```json
        {
            "mcpServers": {
                "unstructured-js-client": {
                    "command": "node",
                    "args": [
                        "C:\\ABSOLUTE\\PATH\\TO\\PROJECT\\DIRECTORY\\node_modules\\unstructured-client\\bin\\mcp-server.js",
                        "start"
                    ],
                    "env": {
                        "UNSTRUCTURED_API_KEY": "<unstructured-api-key>"
                    }
                }
            }
        }
        ```
    </Step>
</Steps>

## Step 2: Run the MCP server and call it from Claude for Desktop

<Steps>
    <Step>
        Start Claude for Desktop. If it is already running, restart it.
    </Step>
    <Step>
        In the chat window, click the paperclip icon, and select a file (for example, a PDF with text, embedded images, tables, or a combination) that you want to partition.
    </Step>
    <Step>
        Ask the following question in the chat window:

        ```text
        Partition the attached file by using a VLM. Show the results in Unstructured JSON format.
        ```

        Claude for Desktop responds by showing a representation of the file's content in Unstructured JSON format.
    </Step>
</Steps>