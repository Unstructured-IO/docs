---
title: Model Context Protocol (MCP) Hands-On Walkthrough for the Unstructured Partition Endpoint
sidebarTitle: MCP for Partition Endpoint
---

[Model Context Protocol](https://modelcontextprotocol.io/introduction) (MCP) is an open protocol that standardizes 
how applications provide context to LLMs. From the MCP documentation:

> Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools.

This article provides a hands-on, step-by-step walkthrough to build a simple example on your local development machine
that integrates the [Unstructured API](/api-reference/overview) with the 
[Python SDK for Model Context Protocol](https://github.com/modelcontextprotocol/python-sdk). Specifically, 
this walkthrough demonstrates how to write and run Python code to create an MCP _server_ 
(a lightweight program that exposes specific capabilities through MCP); this MCP server uses the 
[Unstructured Partition Endpoint](/api-reference/workflow/overview) to partition a single file, with limited support 
for chunking as well, processing local files one file at a time.

<Note>
    For a hands-on walkthrough of the [Unstructured Workflow Endpoint](/api-reference/workflow/overview) instead, 
    see the [MCP Hands-On Walkthrough for the Unstructured Workflow Endpoint](/examplecode/tools/mcp), which offers 
    a full range of partitioning, chunking, embedding, and enrichment options for your files and data.
</Note>
 
You call this MCP server from an MCP _client_ (an application that maintains a one-to-one connection with an 
MCP server), which in this walkthrough is [Claude for Desktop](https://claude.ai/download), a chat-based interface, by asking it plain language questions. 
Other MCP clients are also available. [Learn more](https://modelcontextprotocol.io/clients).

At the end of this walkthrough, you can extend this example by using the Workflow Endpoint to perform other tasks, such as creating, listing, changing, and 
deleting various connectors, workflows, and jobs in your Unstructured account.

## Requirements

To complete this walkthrough, you must first have an Unstructured account, an Unstructured API key for that account, 
the necessary Node.js toolchain and project setup, and Claude for Desktop, as follows.

### Unstructured account and API key

Before you begin, you must have an Unstructured account and an Unstructured API key, as follows:

<Steps>
    <Step title="Sign up">
        To sign up for Unstructured, go to the [For Developers](https://unstructured.io/developers) page and choose one of the following plans:

        - Sign up for a [pay-per-page plan](https://unstructured.io/developers#get-started).
        - Save money by signing up for a [subscribe-and-save plan](https://unstructured.io/subscribeandsave) instead.

        If you're not sure which plan to sign up for, start with a [pay-per-page plan](https://unstructured.io/developers#get-started). You can always switch plans later.

        <Note>
            If you choose a pay-per-page plan, after your first 14 days of usage or more than 1000 processed pages per day, 
            whichever comes first, your account is then billed at Unstructured's standard service usage rates. To keep using the service, 
            you must 
            [provide Unstructured with your payment details](/ui/billing#add-view-or-change-pay-per-page-payment-details).
            
            To save money by switching from a pay-per-page to a subscribe-and-save plan, go to the 
            [Unstructured Subscribe & Save](https://unstructured.io/subscribeandsave) page and complete the on-screen instructions. 
            To save even more money by making a long-term billing commitment, 
            stop here and sign up through the [For Enterprise](https://unstructured.io/enterprise) page instead.
            
            By signing up for a pay-per-page or subscribe-and-save plan, your Unstructured account will run within the context of Unstructured on 
            Unstructured's own hosted cloud resources. If you would rather run Unstructured within the context of your own virtual private cloud (VPC), 
            stop here and sign up through the [For Enterprise](https://unstructured.io/enterprise) page instead.
        </Note>
    </Step>
    <Step title="Sign in">
        <Note>
            If you initially signed up for a subscribe-and-save plan instead of a pay-per-page plan, wait to complete this step until after you receive confirmation from Unstructured that your 
            plan is activated. Then go to the Unstructured home page at [https://unstructured.io](https://unstructured.io) and click **Login**.

            If you signed up through the [For Enterprise](https://unstructured.io/enterprise) page instead, your sign-in process will 
            be different. For enterprise sign-in guidance, contact Unstructured Sales at [sales@unstructured.io](mailto:sales@unstructured.io).
        </Note>

        1. After you have signed up for a pay-per-page plan, the Unstructured account sign-in page appears.

           ![Sign in to your Unstructured account](/img/ui/Signin.png)
        
        2. Click **Google** or **GitHub** to sign in with the Google or GitHub account that you signed up with. 
           Or, enter the email address that you signed up with, and then click **Sign In**.
        3. If you entered your email address, check your email inbox for a message from Unstructured. In that email, click the **Sign In** link.
        4. The first time you sign in, read the terms and conditions, and then click **Accept**.

        <Tip>
            After you have signed in for the first time, you can 
            sign in the second time and beyond by going to the Unstructured home page at [https://unstructured.io](https://unstructured.io) and clicking **Login**.
        
            For enterprise sign-in guidance, contact Unstructured Sales at [sales@unstructured.io](mailto:sales@unstructured.io).
        </Tip>
    </Step>
    <Step title="Get your API key">
        ![Unstructured account settings](/img/ui/AccountSettings.png)

        ![Unstructured API key](/img/ui/APIKeyOnly.png)
        
        1. Sign in to your Unstructured account, at [https://platform.unstructured.io](https://platform.unstructured.io).
        2. At the bottom of the sidebar, click your user icon, and then click **Account Settings**.
        3. On the **API Keys** tab, click **Generate New Key**.
        4. Enter some descriptive name for the API key, and then click **Save**.
        5. Click the **Copy** icon for your new API key. The API key's value is copied to your system's clipboard.
    </Step>
</Steps>

### Node.js toolchain setup, project setup, and Claude for Desktop

Before you can start coding on your local machine, you must install Node.js, clone the GitHub repository that contains the 
MCP server implementation, and install Claude for Desktop, as follows.

<Steps>
    <Step>
        [Download Node.js](https://nodejs.org/en/download).
    </Step>
    <Step>
        From your working directory, use Git to clone the 
        [Unstructured JavaScript/TypeScript SDK](https://github.com/Unstructured-IO/unstructured-js-client) repository in GitHub, and then switch to the cloned 
        repository's root directory:

        ```bash
        git clone https://github.com/Unstructured-IO/unstructured-js-client.git
        cd unstructured-js-client
        ```

    </Step>
    <Step>
        [Install Claude for Desktop](https://claude.ai/download).
    </Step>
</Steps>

## Step 1: Create the MCP server

<Steps>
    <Step>
        From the cloned repository's root directory, use `npm` to install the necessary code dependencies:

        ```bash
        npm install
        ```

    </Step>
    <Step>
        Use `npm` to build the MCP server:

        ```bash
        npm run build
        ```

        This command creates a new `bin` directory in the cloned repository's root directory.
    </Step>
    <Step>
        In the root of the project directory, create a new file named `.env`. 
        Then add the following code to this new `.env` file, replacing `<your-unstructured-api-key>` with your Unstructured API key:

        ```text
        UNSTRUCTURED_API_KEY="<your-unstructured-api-key>"
        ```

    </Step>
    <Step>
        Open the Claude for Desktop App configuration file from the following location, for example by using Visual Studio Code:

        ```text
        # For macOS or Linux:
        code ~/Library/Application\ Support/Claude/claude_desktop_config.json

        # For Windows:
        code $env:AppData\Claude\claude_desktop_config.json
        ```
    </Step>
    <Step>
        Add the following code to the `claude_desktop_config.json` file, and then save the file.

        In this file:

        - Replace the "absolute path to parent folder" placeholder with the absolute path to your cloned `unstructured-js-client` repository.
        - Replace `<unstructured-api-key>` with your Unstructured API key.

        For macOS or Linux:

        ```json
        {
            "mcpServers": {
                "unstructured-js-client": {
                    "command": "node",
                    "args": [
                        "/ABSOLUTE/PATH/TO/PARENT/FOLDER/unstructured-js-client/bin/mcp-server.js",
                        "start"
                    ],
                    "env": {
                        "UNSTRUCTURED_API_KEY": "<unstructured-api-key>"
                    }
                }
            }
        }
        ```

        For Windows:

        ```json
        {
            "mcpServers": {
                "unstructured-js-client": {
                    "command": "node",
                    "args": [
                        "C:\\ABSOLUTE\\PATH\\TO\\PARENT\\FOLDER\\unstructured-js-client\\bin\\mcp-server.js",
                        "start"
                    ],
                    "env": {
                        "UNSTRUCTURED_API_KEY": "<unstructured-api-key>"
                    }
                }
            }
        }
        ```
    </Step>
</Steps>

## Step 2: Run the MCP server and call it from Claude for Desktop

<Steps>
    <Step>
        Start Claude for Desktop. If it is already running, restart it.
    </Step>
    <Step>
        In the chat window, click the paperclip icon, and select a file (for example, a PDF with text, embedded images, tables, or a combination) that you want to partition.
    </Step>
    <Step>
        Ask the following question in the chat window:

        ```text
        Partition the attached file by using a VLM. Show the results in Unstructured JSON format.
        ```

        Claude for Desktop responds by showing a representation of the file's content in Unstructured JSON format.
    </Step>
</Steps>