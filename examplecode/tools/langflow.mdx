---
title: Langflow
---

[Langflow](https://www.langflow.org/) is a visual framework for building multi-agent and RAG applications. 
It is open-source, fully customizable, and works with most LLMs and many vector stores out of the box. 

![Langflow designer](/img/langflow/designer.png)

This hands-on demonstration walks you through creating a Langflow project that enables you to use GPT-4o by OpenAI to chat 
in real time with a PDF document that is processed by Unstructured and has its processed data stored in an 
[Astra DB](https://www.datastax.com/products/datastax-astra) vector database.

## Prerequisites

import AstraDBShared from '/snippets/general-shared-text/astradb.mdx';

<AstraDBShared />

Also:

- [Sign up for an OpenAI account](https://platform.openai.com/signup), and [get your OpenAI API key](https://help.openai.com/en/articles/4936850-where-do-i-find-my-openai-api-key).
- [Sign up for a free Langflow account](https://astra.datastax.com/signup?type=langflow).
- [Get your Unstructured Serverless API key](/api-reference/api-services/saas-api-development-guide#get-started).

## Create and run the demonstration project

<Steps>
    <Step title="Create the Langflow project">
        1. Sign in to your Langflow dashboard.
        2. From your dashboard, click **New Project**.
        3. Click **Blank Flow**.
    </Step>
    <Step title="Enter your API keys and tokens">
        1. In the top navigation bar, click the gear icon, and then click **Settings**.

           ![Langflow settings](/img/langflow/settings.png)

        2. With the **Global Variables** tab already selected in the sidebar, click **Add New**.
        3. In the **Create Variable** dialog, for **Variable Name**, enter `UNSTRUCTURED_API_KEY`.

        4. For **Value**, enter your Unstructured API key.
        5. Click **Save Variable**.
        6. Repeat this process for a global variable named `OPENAI_API_KEY`, set to the value of your OpenAI API key.
        7. In the list of global variables, open **ASTRA_DB_APPLICATION_TOKEN**, set it to the value of your Astra DB application token, and then click **Update Variable**.
        6. In the top navigation bar, click the back arrow.

           ![Back arrow](/img/langflow/go-back.png)

    </Step>
    <Step title="Add the Unstructured component">
        1. On the sidebar, expand **Experimental (Beta)**, and then expand **Loaders**.
        2. Drag the **Unstructured** component onto the designer area.
        3. In the **Unstructured** component, click the box or icon next to **File**, and then select a file or a directory of files for Unstructured to process. This component works only with the file extensions `.pdf`, `.docx`, and `.txt`.

           You can select any files that you want. This demonstration uses [the text of the United States Constitution in PDF format](https://constitutioncenter.org/media/files/constitution.pdf), 
           saved to your local development machine.

        4. For **Unstructured.io Serverless API Key**, click the globe icon, and then select **UNSTRUCTURED_API_KEY**.

           ![Unstructured component](/img/langflow/unstructured-component.png)

        5. Wait until **Saved** appears in the top navigation bar.

           ![Saved message](/img/langflow/saved.png)

    </Step>
    <Step title="Add the OpenAI Embeddings component">
        1. On the sidebar, expand **Embeddings**, and then drag the **OpenAI Embeddings** component onto the designer area.
        2. In the **OpenAI Embeddings** component, for **Model**, select `text-embedding-3-large`.
        3. For **OpenAI API Key**, click the globe icon, and then select **OPENAI_API_KEY**.

           ![OpenAI Embeddings component](/img/langflow/openai-embeddings-component.png)

        4. Wait until **Saved** appears in the top navigation bar.
    </Step>
    <Step title="Add the Astra DB component">
        1. On the sidebar, expand **Vector Stores**, and then drag the **Astra DB** component onto the designer area.
        2. In the **Astra DB** component, in the **Database** list, select the name of your Astra DB database.
        3. In the **Collection** list, select the name of the collection in the database.
        5. Connect the **Data** output from the **Unstructured** component to the **Ingest Data** input in the **Astra DB** component.
        6. Connect the **Embeddings** output from the **OpenAI Embeddings** component to the **Embedding or Astra Vectorize** input in the  **Astra DB** component.

           ![Astra DB component](/img/langflow/astra-db-component.png)

        7. Wait until **Saved** appears in the top navigation bar.
        8. In the title bar of the **Astra DB** component, click the play icon.

           ![Play icon](/img/langflow/build.png)

        9. Wait until **Building** disppears from the top navigation bar, and a green check mark appears next to the play icon. This could take several minutes.
        10. Now that Unstructured has processed the PDF and stored the processed data in Astra DB, disconnect the **Unstructured** component from the **Astra DB** component.
        
            To do this, click the line that 
            connects the **Data** output from the **Unstructured** component to the **Ingest Data** input in the **Astra DB** component, 
            and then press your keyboard's **Delete** key.

            ![Delete connector](/img/langflow/delete-connector.png)

    </Step>
    <Step title="Add the Chat Input component">
        1. On the sidebar, expand **Inputs**, and then drag the **Chat Input** component onto the designer area.
        2. Connect the **Message** output from the **Chat Input** component to the **Search Input** input in the **Astra DB** component.
        
           ![Chat Input component](/img/langflow/chat-input-component.png)

        3. Wait until **Saved** appears in the top navigation bar.
    </Step>
    <Step title="Add the Parse Data component">
        1. On the sidebar, expand **Helpers**, and then drag the **Parse Data** component onto the designer area.
        2. Connect the **Search Results** output from the **Astra DB** component to the **Data** input in the **Parse Data** component.

           ![Parse Data component](/img/langflow/parse-data-component.png)

        3. Wait until **Saved** appears in the top navigation bar.
    </Step>
    <Step title="Add the Prompt component">
        1. On the sidebar, expand **Prompts**, and then drag the **Prompt** component onto the designer area.
        2. In the **Prompt** component, next to **Template**, click the box or arrow icon.
        3. In the **Edit Prompt** window, enter the following prompt:

           ```text
           {context}

           ---

           Given the context above, answer the question as best as possible.

           Question: {question}

           Answer: 
           ```

        4. Click **Check & Save**.

           ![Prompt component](/img/langflow/edit-prompt.png)

        5. Connect the **Text** output from the **Parse Data** component to the **context** input in the **Prompt** component.

           ![Connect Prompt component](/img/langflow/connect-prompt-component.png)

        6. Wait until **Saved** appears in the top navigation bar.
    </Step>
    <Step title="Add the OpenAI component">
        1. On the sidebar, expand **Models**, and then drag the **OpenAI** component onto the designer area.
        2. In the **Model Name** list, select **gpt-4o**.
        3. For **OpenAI API Key**, click the globe icon, and then select **OPENAI_API_KEY**. 
        4. For **Temperature**, enter `0.1`.
        5. Connect the **Prompt Message** output from the **Prompt** component to the **Input** input in the **OpenAI** component.

           ![OpenAI component](/img/langflow/openai-component.png)

        6. Wait until **Saved** appears in the top navigation bar.
    </Step>
    <Step title="Add the Chat Output component">
        1. On the sidebar, expand **Outputs**, and then drag the **Chat Output** component onto the designer area.
        2. Connect the **Text** output from the **Chat Output** component to the **Text** input in the **Chat Output** component.
        
           ![Chat Output component](/img/langflow/chat-output-component.png)

        3. Wait until **Saved** appears in the top navigation bar.
    </Step>
    <Step title="Run the project">
        1. In the designer area, click **Playground**.

           ![Open Playground button](/img/langflow/open-playground.png)

        2. Enter a question into the chat box, for example, `What rights does the fifth amendment guarantee?` Then press the send button.

           ![Playground window](/img/langflow/playground.png)

        3. Wait until the answer appears.
        4. Ask as many additional questions as you want to. 
    </Step>
</Steps>

## Deploy the demonstration project

Langflow supports deployments to:

- [HuggingFace Spaces](https://docs.langflow.org/deployment-hugging-face-spaces)
- A [Kubernetes](https://docs.langflow.org/deployment-kubernetes) cluster
- A [Docker](https://docs.langflow.org/deployment-docker) container
- [Google Cloud Platform](https://docs.langflow.org/deployment-gcp)
- [Render](https://docs.langflow.org/deployment-render)
- [Railway](https://docs.langflow.org/deployment-railway)

## Learn more

See the [Langflow documentation](https://docs.langflow.org/).