For the Unstructured Ingest CLI and the Unstructured Ingest Python library, you can use the `--partition-by-api` option (CLI) or `partition_by_api` (Python) parameter to specify where files are processed:

- To do local file processing, omit `--partition-by-api` (CLI) or `partition_by_api` (Python), or explicitly specify `partition_by_api=False` (Python).

  Local file processing does not use an Unstructured API key or API URL, so you can also omit the following, if they appear:

  - `--api-key $UNSTRUCTURED_API_KEY` (CLI) or `api_key=os.getenv("UNSTRUCTURED_API_KEY")` (Python)
  - `--partition-endpoint $UNSTRUCTURED_API_URL` (CLI) or `partition_endpoint=os.getenv("UNSTRUCTURED_API_URL")` (Python)
  - The environment variables `UNSTRUCTURED_API_KEY` and `UNSTRUCTURED_API_URL`

- To send files to the [Unstructured Partition Endpoint](/api-reference/partition/overview) for processing, specify `--partition-by-api` (CLI) or `partition_by_api=True` (Python). 

  Unstructured also requires an Unstructured API key and API URL, by adding the following:

  - `--api-key $UNSTRUCTURED_API_KEY` (CLI) or `api_key=os.getenv("UNSTRUCTURED_API_KEY")` (Python)
  - `--partition-endpoint $UNSTRUCTURED_API_URL` (CLI) or `partition_endpoint=os.getenv("UNSTRUCTURED_API_URL")` (Python)
  - The environment variables `UNSTRUCTURED_API_KEY` and `UNSTRUCTURED_API_URL`, representing your API key and API URL, respectively.

  <Note>
      You must specify the API URL only if you are not using the default API URL for Unstructured Ingest, for example, if you are using a [self-hosted](/self-hosted/overview) instance of the Unstructured API.

      The default API URL for Unstructured Ingest is `https://api.unstructuredapp.io/general/v0/general`, which is the API URL for the [Unstructured Partition Endpoint](/api-reference/partition/overview). However, this URL might not necessarily work for your account. You should use the URL that was provided to you when your Unstructured account was created. If you do not have this URL, contact Unstructured Sales at [sales@unstructured.io](mailto:sales@unstructured.io).

      If you do not have an API key, [get one now](/api-reference/partition/overview).

      If the Unstructured API is self-hosted, the process
      for generating Unstructured API keys, and the Unstructured API URL that you use, are different. 
      For details, contact Unstructured Sales at 
      [sales@unstructured.io](mailto:sales@unstructured.io).
  </Note>