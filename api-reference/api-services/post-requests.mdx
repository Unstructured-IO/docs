---
title: Sending POST requests to Unstructured API
description: This page provides some examples of accessing Unstructured API via direct calls.
---

## Basics

Whether you're using the free Unstructured API, the SaaS Unstructured API, Unstructured API on Azure/AWS or your local
deployment of Unstructured API, the functionality described in this guide will be the same.
The only difference will be in how you authenticate yourself.

Let's start with a simple example in which you send an email file (`*.eml`) to partition via Unstructured API:

```bash
 curl -X 'POST' \
  'https://api.unstructured.io/general/v0/general' \
  -H 'accept: application/json' \
  -H 'Content-Type: multipart/form-data' \
  -H 'unstructured-api-key: <YOUR_API_KEY>' \
  -F 'files=@sample-docs/family-day.eml'
```

In the example above we're sending the request to the free Unstructured API, in which case the API URL is the same for all
users: `https://api.unstructured.io/general/v0/general`. Note, however, that you still need to authenticate yourself with
your individual API Key. Learn how to obtain an API key in the [Free Unstructured API guide](/api-reference/api-services/free-api).

If you were using the SaaS Unstructured API, you would need to replace the URL in this example with the unique API URL that you have
received in the same email as your API key. For Unstructured API on Azure/AWS, you would use the API URL that you
configured through those services.

## Parameters

[//]: # (TODO: In the future we should automatically generate this table to make sure it's up to date)

|Parameter     |Description                                                    |
|--------------|--------------------------------------------------------------|
|files         |**Required**. _string_. The file to extract. Only single files are currently supported.                 |
|xml_keep_tags |_boolean_. If True, will retain the XML tags in the output. Otherwise it will simply extract the text from within the tags. Only applies to partition_xml.  |
|languages |_array_. The languages present in the document, for use in partitioning and/or OCR |
|skip_infer_table_types |_array_. Default: []. The document types that you want to skip table extraction with.  |
|output_format |_string_. Default: application/json. The format of the response. Supported formats are application/json and text/csv.   |
|coordinates |_boolean_. Default: false. If true, return coordinates for each element.  |
|encoding |Default: utf-8. The encoding method used to decode the text input.  |
|hi_res_model_name |The name of the inference model used when strategy is `hi_res`.  |
|include_page_breaks |_boolean_. Default: false. If True, the output will include page breaks if the filetype supports it. |
|pdf_infer_table_structure |Deprecated! Use skip_infer_table_types to opt out of table extraction for any file type. If False and strategy=hi_res, no Table Elements will be extracted from pdf files regardless of skip_infer_table_types contents. |
|strategy |_string_ Default: auto. The strategy to use for partitioning PDF/image. Options are `fast`, `hi_res`, `auto`. |
|extract_image_block_types |_array_ The types of elements to extract, for use in extracting image blocks as base64 encoded data stored in metadata fields |
|unique_element_ids |_boolean_ Default: False. When True, assign UUIDs to element IDs, which guarantees their uniqueness (useful when using them as primary keys in database). Otherwise a SHA-256 of element text is used. |
|chunking_strategy |_string_ Use one of the supported strategies to chunk the returned elements: `basic`, `by_page`, `by_similarity`, or `by_title`|
|combine_under_n_chars |Default: 500. If chunking strategy is set, combine elements until a section reaches a length of n chars. |
|include_orig_elements |Default: True. When a chunking strategy is specified, each returned chunk will include the elements consolidated to form that chunk as .metadata.orig_elements.  |
|max_characters |Default: 500. If chunking strategy is set, cut off new sections after reaching a length of n chars (hard max).  |
|multipage_sections |_boolean_ Default: True. If chunking strategy is set, determines if sections can span multiple sections. |
|new_after_n_chars |Default: 1500. If chunking strategy is set, cut off new sections after reaching a length of n chars (soft max). |
|overlap |Default: 0. Specifies the length of a string ('tail') to be drawn from each chunk and prefixed to the next chunk as a context-preserving mechanism. By default, this only applies to split-chunks where an oversized element is divided into multiple chunks by text-splitting. |
|overlap_all |_boolean_ Default: False. When True, apply overlap between 'normal' chunks formed from whole elements and not subject to text-splitting. Use this with caution as it entails a certain level of 'pollution' of otherwise clean semantic chunk boundaries. |
|similarity_threshold |A value between 0.0 and 1.0 describing the minimum similarity two elements must have to be included in the same chunk. Note that similar elements may be separated to meet chunk-size criteria; this value can only guarantees that two elements with similarity below the threshold will appear in separate chunks.|

## Examples

### Changing partition strategy for a PDF

Here's how you can modify partition strategy for a pdf file, and select an alternative model to use with a hosted Unstructured API.
The `hi_res` strategy supports different models, and the default is `detectron2onnx`.

[//]: # (TODO: add a link to the concepts section about partitioning strategies. Need to create the shared Concepts section first)

```bash
 curl -X 'POST' 'https://api.unstructured.io/general/v0/general' \
  -H 'accept: application/json' \
  -H 'Content-Type: multipart/form-data' \
  -H 'unstructured-api-key: <YOUR_API_KEY>' \
  -F 'files=@sample-docs/layout-parser-paper.pdf' \
  -F 'strategy=hi_res' \
  -F 'hi_res_model_name=chipper'
```

If you have a local deployment of the Unstructured API, you can use other supported models, such as `yolox`.

### Specifying the language of a document for better OCR results

For better OCR results, you can specify what languages your document is in using the `languages` parameter.
See the [Tesseract documentation](https://github.com/tesseract-ocr/tessdata) for a full list of languages.


```bash
curl -X 'POST' 'https://api.unstructured.io/general/v0/general' \
  -H 'accept: application/json' \
  -H 'Content-Type: multipart/form-data' \
  -F 'files=@sample-docs/english-and-korean.png' \
  -F 'strategy=ocr_only' \
  -F 'languages=eng'  \
  -F 'languages=kor'
```

### Saving bounding box coordinates

When elements are extracted from PDFs or images, it may be useful to get their bounding boxes as well.
Set the `coordinates` parameter to `true` to add this field to the elements in the response.

```bash
 curl -X 'POST' 'https://api.unstructured.io/general/v0/general' \
  -H 'accept: application/json' \
  -H 'Content-Type: multipart/form-data' \
  -F 'files=@sample-docs/layout-parser-paper.pdf' \
  -F 'coordinates=true' \
```

### Returning unique element IDs

By default, the element ID is a SHA-256 hash of the element text. This is to ensure that
the ID is deterministic. One downside is that the ID is not guaranteed to be unique.
Different elements with the same text will have the same ID, and there could also be hash collisions.
To use UUIDs in the output instead, set `unique_element_ids=true`. Note: this means that the element IDs
will be random, so with every partition of the same file, you will get different IDs.
This can be helpful if you'd like to use the IDs as a primary key in a database, for example.

```bash
curl -X 'POST' 'https://api.unstructured.io/general/v0/general' \
 -H 'accept: application/json'  \
 -H 'Content-Type: multipart/form-data' \
 -F 'files=@sample-docs/layout-parser-paper-fast.pdf' \
 -F 'unique_element_ids=true'
```

### Adding the chunking step after partitioning

You can combine partitioning and subsequent chunking in a single request by setting the `chunking_strategy` parameter.
By default, the `chunking_strategy` is set to `None`, and no chunking is performed.

[//]: # (TODO: add a link to the concepts section about chunking strategies. Need to create the shared Concepts section first)

```bash
curl -X 'POST' 'https://api.unstructured.io/general/v0/general' \
 -H 'accept: application/json'  \
 -H 'Content-Type: multipart/form-data' \
 -F 'files=@sample-docs/layout-parser-paper-fast.pdf' \
 -F 'chunking_strategy=by_title'
```
